<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset="utf-8">
  <link rel="stylesheet" type="text/css" href="../../javaScript/styles.css" />
  <title>Vue versão 3</title>

</head>
<body>
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <div id="container">
  <div id="header"><h1>Vue versão 3: introdução</h1></div>

  <h3>Apresentação</h3>
  <p> Recordando ...Vue.js (Vue (pronuncia-se /vjuː/, como <i>view</i>, em inglês)
    é um framework JavaScript progressivo, tem a construção de páginas
    dinâmicas baseada toda em componentes de software e está entre os
    frameworks JS mais utilizados, ao lado do Angular e do react.</p>

    <p> Vue é um front-end JS escrito em código-aberto e é o framework
    preferido pala aplicações página única. </p>

  <h3>Iniciando na Versão 3</h3>
<p>A versão 3 de Vue foi lançada em 7 de fevereiro de 2022 e por isso
ainda é pouco utilizada.</p>
  <p>Vamos já começar pelo nosso primeiro código fonte em Vue 3,
    que é um HTML que forma a base das páginas dinâmicas: clique
      <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/hello.html"
      target="_blank">aqui</a>.</p>
  <p>Veja código fonte relativo ao <kbd>hello.js</kbd>
            <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/hello.js"
            target="_blank">aqui</a>.</p>


  Veja o que fizemos até aqui:
  <ul>
    <li>Na primeira chamada de script do código <kbd>hello.html</kbd>, carregamos o Vue via CDN (<i>Content Delivery
      Network</i>) que é uma maneira prática e rápida de carregar o Vue. Neste caso,
    o carregamento via CDN não permite a utilização de todos os recursos do Vue,
    mas é uma opção simples e prática; </li>
    <li>O segundo script é justamente o código Vue que implementamos. O <kbd>defer</kbd>
      está como uma solicitação de espera para o HTML, ou seja, o Vue só entrará
      em ação depois que a página for carregada;</li>
    <li>Depois elencamos uma div que será o ponto incial de entrada
    das chamadas Vue;</li>
    <li>Dentro da div tem uma "variável" que será ligada (<i>binding</i>)
    ao conteúdo atribuído a ela no código <kbd>hello.js</kbd>;</li>
    <li>Toda aplicação Vue começa por criar uma instância de aplicação
      que é executada pela função <kbd>createApp</kbd>;</li>
    <li>Em <kbd>hello.js</kbd> criamos uma aplicação (<kbd>MeuNomeApp</kbd>)
    que será montada na div declarada no arquivo HTML; </li>
    <li>Essa aplicação, na sua porção de retorno de dados, retorna uma
      cadeia de caracteres "ligada" a "variável" <kbd>nome</kbd>.
  </ul>
  <p>Para ver esse código (bem simples, por sinal) em execução clique
    <a href="https://evandro-ruiz.github.io/webDev/vue/aula2/hello.html">aqui</a>.
  </p>

<h3>Data binding</h3>
<p>É importante salientar que muitas das operações que faremos daqui
  em diante são formas de <i>data binding</i>, ou seja, modos
  de alteração de valores em tempo de execução.<br>
  Reparem que esse termo (<i>binding</i>), embora seja uma
  atribuição de valor, é de fato uma ligação de um valor com uma
  referência à variável. Pensem nisso!
</p>

  <h4>Alterando o código anterior passando dois valores</h4>
  <p>Faremos agora uma alteração simples com objetivo
    de fixar o conteúdo visto anteriormente. Faremos o
    <i>binding</i> de duas referências.</p>
  <p>Para ver a página HTML: clique
        <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/hello2.html"
        target="_blank">aqui</a>.</p>
  <p>Veja o novo <kbd>hello2.js</kbd> clicando
    <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/hello2.js"
      target="_blank">aqui</a>.</p>
  <p>Verifique o código em execução
          <a href="https://evandro-ruiz.github.io/webDev/vue/aula2/hello2.html">aqui</a>.
  </p>


  <h4>Alterando o código anterior e usando diretiva MODEL</h4>
  <p>Lembro que a diretiva <kbd>v-model</kbd> promove uma interligação
    de mão dupla. Na verdade, essa diretiva guarda o valor da variável
    citada na sequência no ambiente Vue para poder ser
    acessada mais facilmente. <br>
    Neste próximo exemplo, a interligação
      de mão dupla ocorre entre a caixa de texto
    do formulário e um parágrafo da aplicação.</p>
  <p>Para saber mais sobre essa diretiva, veja o
    <a href="https://vuejs.org/guide/essentials/forms.html">link</a>.</p>

  <p>Para ver esse código em execução clique
      <a href="https://evandro-ruiz.github.io/webDev/vue/aula2/hello3.html">aqui</a>.
  </p>

  <p>Para ver a página HTML: clique
      <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/hello3.html"
      target="_blank">aqui</a>.</p>
  <p>Veja a programação Vue-JS, ou seja, o <kbd>hello3.js</kbd> clicando
  <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/hello3.js"
    target="_blank">aqui</a>.</p>

  <p>A figura abaixo mostra como pode ocorrer o <i>binding</i>
    entre os elementos HTML mesmo com o nome declarado
    de modo <i>hard coded</i> na classe.<br>
    Teste essa possibilidade e veja, pela mensagem na console,
    que o <i>binding</i> foi consolidado.</p>
  <img src="images/input.png" alt="Nome hard-coded." class="center">

  <h3>Usando data binding diretamente</h3>
  <p>No próximo código, <kbd>hello4.html</kbd>, usamos uma associação
    direta entre as referências da variável, ou seja, usamos
    o <i>binding</i> diretamente, dispensando o recurso de
    captura do evento.</p>
  <p>Veja o  código HTML, <kbd>hello4.html</kbd>
        <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/hello4.html"
        target="_blank">aqui</a>.</p>
  <p>Para ver esse código em execução clique
            <a href="https://evandro-ruiz.github.io/webDev/vue/aula2/hello4.html">aqui</a>.
  </p>
  <h3>Usando a diretiva IF</h3>
  <p>No mesmo modelo da aula anterior, vamos tornar uma página HTML dinâmica
    pela alteração do valor de uma variável. Essa variável irá mudar de
    estado por meio de um botão e a informação será mostrada de acordo
    com o valor desta variável.<br>
    Veja uma primeira versão deste código.</p>
  <p>Para ver a página HTML: clique
        <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/show1.html"
        target="_blank">aqui</a>.</p>
  <p>Veja a programação Vue-JS, ou seja, o <kbd>show1.js</kbd> clicando
    <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/show1.js"
      target="_blank">aqui</a>.</p>

  <p>Para ver esse código em execução clique
            <a href="https://evandro-ruiz.github.io/webDev/vue/aula2/show1.html">aqui</a>.
  </p>

  <h4>Uma pequena modificação</h4>
  <p>Agora uma pequena modificação no JS pode alterar o estado
    de mostrar ou não a tabela de preços.</p>
  <p>Para ver esse código alterado em execução clique
              <a href="https://evandro-ruiz.github.io/webDev/vue/aula2/show2.html">aqui</a>.
  </p>

    <p>Para ver a página HTML: clique
          <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/show2.html"
          target="_blank">aqui</a>.</p>
    <p>Veja a programação Vue-JS, ou seja, o <kbd>show2.js</kbd> clicando
      <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/show2.js"
        target="_blank">aqui</a>.</p>

  <h4>Rumo à versão final</h4>
  <p>Agora vamos alterar o botão "Esconde preço" para que ele mude
    seus dizeres de acordo com o estado da variável lógica.</>
  <p>Para ver as melhorias do código alterado em execução. Clique
              <a href="https://evandro-ruiz.github.io/webDev/vue/aula2/show3.html">aqui</a>.
  </p>
  <p>Esta é a nova página HTML com o botão adicional: clique
        <a href="https://github.com/evandro-ruiz/webDev/blob/main/vue/aula2/show3.html"
        target="_blank">aqui</a>.</p>

  <h3>Exercício</h3>
  <p>Existe também uma diretiva <kbd>v-else</kbd> que poderia ter sido
          usada no lugar do segundo <kbd>v-if</kbd>.<br>
          Como exercício, tente esta diretiva.</p>

  <h3>Iniciando no CLI</h3>
  <p>Antes de iniciar, como estamos usando o Vue v.3, temos que nos
    assegurar que a versão do CLI é superir a versão 4.5.<br>
  Usando o comando <kbd>vue -V</kbd> podemos verificar qual
versão temos. Se for anterior a 4.5, podemos usar o seguinte
comando <kbd>vue upgrade --next</kbd>.</p>

  <p>Recorde treinando na aula anterior como criar um projeto
    simples, um <kbd>hello-world</kbd>, por exemplo.</p>

  <p>Nessa sessão faremos nosso primeiro projeto CLI alterando
    um projeto inicial. Criarei um projeto, chamado
    <kbd>projeto-x</kbd>, o qual farei alterações para criar
    nosso primeiro componente.</p>
    <p>O projeto será criado por seleção manual quando optaremos
      por deixar o "Babel", obviamente faremos no padrão da versão 3 e,
      na configuração de projetos escolheremos a opção de "arquivos dedicados".
      Manter a opção "Save as preset" como <b>Não</b>.</p>
  <code> vue create projeto-x </code>

  <h4>O que modificar</h4>
  <code>cd projeto-x</code>

  <p>Modificaremos dois arquivos apagando muitos comandos e começando
    "do zero" para poder entender. Serão dois os arquivs a serem alterados: o
     <kbd>App.vue</kbd> que terá seu conteúdo apagado, e o <kbd>HelloWorld.vue</kbd>
   que iremos deletar. </p>
   <p>O <kbd>App.vue</kbd> está no diretório <kbd>src</kbd> e o <kbd>HelloWorld.vue</kbd>
     está no diretório <kbd>components</kbd>.
  <p>O <kbd>App.vue</kbd> é um módulo central que irá gerenciar toda a aplicação.
    Este é o início da execução do Vue e é chamado pelo <kbd>main.js</kbd>.
  </p>

  <img src="images/mainJS.png" alt="main.js." class="center">
  <p>Note que o <kbd>main.js</kbd> cria e chama a <kbd>App.vue</kbd>. Por isso
    que no script da <kbd>App.vue</kbd> temos que exportar essa aplicação
    para o componente en que está o header, dentro do template.<br>
  Veja esses detalhes no código da imagem abaixo</p>

  <p>Tendo apagado todo o conteúdo do <kbd>App.vue</kbd>, deixe-o
    com o seguinte conteúdo:</p>
  <img src="images/appv1.png" alt="Primeira versão Vue via CLI." class="center">

  <p>Para executar, vá até o diretório <kbd>projeto-x</kbd> e chame
    o comando:</p>
  <code> npm run serve </code>

  <p>Depois, abrindo o navegador, acesse <kbd>http://localhost:8080/</kbd>
    e veja seu código Vue sendo executado.<br>
    Esse header é o único "componente" sendo executado, mas na verdade ainda
    não é um componente, é apenas um nó HTML no conjunto dos nós manipulados
    pelo Vue.
  </p>


  <p>O código em execução deverá ser assim:</p>
  <img src="images/appv1run.png" alt="Primeira versão Vue via CLI running." class="center">

<p>Esse resultado é muito próximo ao que tínhmamos usando o CDN.</p>

    <h4>Criando nosso primeiro componente via CLI</h4>
    <p>Todos os componentes usados pelos usuários devem ficar no diretório
      <kbd>components</kbd>.</p>
    <p>Criaremos nosso primeiro componente, um código fonte que chamarei
      <kbd>PrimoComp.vue</kbd> e que terá esse conteúdo:</p>
      <img src="images/primocomp.png" alt="Primeiro componente." class="center">

    <p>Criado o primeiro componente, precisamos alterar a <kbd>App.vue</kbd>
      para utilizar esse componente.<br>
      O código <kbd>App.vue</kbd> alretado será como na figura a seguir: </p>

      <img src="images/appv2.png" alt="App.vue chamando componente." class="center">
  <p>Finalmente, teremos nosso primeiro componente sendo executado, como na
    figura abaixo:</p>
    <img src="images/final.png" alt="Vue executando componente." class="center">
  <p>FIM! (por enquanto)</p>



  <h3>Agradecimentos</h3>
    <p>Notas de aula baseadas no site da
      <a href="https://developer.mozilla.org/pt-BR/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started/"
        target="_blank">Mozilla - iniciando com Vue</a>
        e no site da
        <a href="https://br.vuejs.org/v2/guide/index.html" target="_blank">Vuejs.org</a>.
    </p>

  <div id="footer">
    Copyright &copy; 2022 EESR
  </div>
</html>
